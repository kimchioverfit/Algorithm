
# Function pointer

í•¨ìˆ˜ë¥¼ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°, 

```cpp
ë°˜í™˜í˜• (*í¬ì¸í„°ì´ë¦„)(ë§¤ê°œë³€ìˆ˜ íƒ€ì…);
```

ìœ¼ë¡œ ì‚¬ìš©í•¨. 


### ì‚¬ìš© ì´ìœ 

1. **ì½œë°± í•¨ìˆ˜**

```cpp
bool compare(int a, int b) { return a > b; }
std::sort(arr, arr + n, compare);  // compareëŠ” í•¨ìˆ˜ í¬ì¸í„°
```
ìœ„ ì¼€ì´ìŠ¤ë¥¼ ë³´ë©´ ì•Œ ìˆ˜ ìˆë“¯ì´, í•¨ìˆ˜ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì“¸ ìˆ˜ ìˆìŒ.

2. **ì „ëµ íŒ¨í„´** 

```cpp
typedef int (*Strategy)(int, int);

int add(int a, int b) { return a + b; }
int mul(int a, int b) { return a * b; }

void execute(int a, int b, Strategy s) {
    cout << "Result: " << s(a, b) << endl;
}

execute(3, 4, add);  // ê²°ê³¼: 7
execute(3, 4, mul);  // ê²°ê³¼: 12

```
ìœ„ ì¼€ì´ìŠ¤ì²˜ëŸ¼, ì‹¤í–‰ ì‹œì ì— ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ê²Œ í•  ìˆ˜ë„ ìˆìŒ. 

3. **í…Œì´ë¸” ê¸°ë°˜ ëª…ë ¹ ë¶„ê¸°**

```cpp
void cmdA() { cout << "A\n"; }
void cmdB() { cout << "B\n"; }

void (*command_table[2])() = { cmdA, cmdB };

command_table[0]();  // "A"
```
switch ë¬¸ ë³´ë‹¤ ë¹ ë¥´ê²Œ ë¶„ê¸° ì²˜ë¦¬ê°€ ê°€ëŠ¥í•¨. 

switch ë¬¸ì€ ëŸ°íƒ€ì„ì— ì²´í¬ë¥¼ í•˜ëŠ”ë°, 

í•¨ìˆ˜ í¬ì¸í„°ì˜ ê²½ìš° ë¶„ê¸° ì¡°ê±´ì—†ì´ ë°”ë¡œ í•¨ìˆ˜ë¡œ ì í”„í•¨. (ì–´ì…ˆë¸”ë¦¬ ì í”„)

ê·¼ë° ì–´ì°¨í”¼ í•¨ìˆ˜ê°€ ëŒì•„ê°€ëŠ” ì‹œê°„ì€ ë™ì¼í•˜ê¸° ë•Œë¬¸ì— í° ì°¨ì´ëŠ” ì•„ë‹ ìˆ˜ ìˆìŒ.

4. **í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ**

```cpp
// í•¨ìˆ˜ í¬ì¸í„° íƒ€ì… ì •ì˜
typedef int (*PluginFunc)(int);
HMODULE dll = LoadLibraryA("plugin.dll");
PluginFunc plugin = (PluginFunc)GetProcAddress(dll, "doWork");


int result = plugin(42);
FreeLibrary(dll);
```

ëŸ°íƒ€ì„ì— ë¡œë”©ëœ í•¨ìˆ˜ë¥¼ í¬ì¸í„°ë¡œ í˜¸ì¶œ ê°€ëŠ¥. 

ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ì•„ë˜ì™€ ê°™ìŒ.

| ìƒí™©          | ì´ìœ                               |
| ----------- | ------------------------------- |
| í”ŒëŸ¬ê·¸ì¸ êµ¬ì¡°     | ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ exeë¥¼ ì•ˆ ë°”ê¾¸ê³  DLLë§Œ êµì²´ ê°€ëŠ¥ |
| ëŸ°íƒ€ì„ ë¡œë”©      | ì„±ëŠ¥ ë˜ëŠ” ë¼ì´ì„ ìŠ¤ ì´ìœ ë¡œ ì¼ë¶€ ê¸°ëŠ¥ë§Œ ì¡°ê±´ë¶€ ë¡œë”©    |
| ë¦¬í”Œë ‰ì…˜ ë¹„ìŠ·í•œ êµ¬ì¡° | í•¨ìˆ˜ ì´ë¦„ë§Œ ì•Œê³  ì‹¤í–‰ ê°€ëŠ¥                 |


5. **C - style ì—°ë™**
   
C ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ê°ì²´ì§€í–¥ ê¸°ëŠ¥ì´ ì—†ê¸° ë•Œë¬¸ì—,
ì½œë°±(callback)ì„ ë„˜ê¸¸ ë•ŒëŠ” **"í•¨ìˆ˜ í¬ì¸í„°"**ë¥¼ ì”€.

ğŸ§© Cì—ì„œëŠ”?
ìƒíƒœ(state) ì—†ì´ í•¨ìˆ˜ë§Œ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

void (*callback)(int) ê°™ì€ ì‹ìœ¼ë¡œ ì •ì  í•¨ìˆ˜ ì£¼ì†Œë§Œ ë„˜ê¸¸ ìˆ˜ ìˆìŒ

ê°ì²´ë‚˜ ìº¡ì²˜ëœ í™˜ê²½ì€ ëª» ë„˜ê¹ë‹ˆë‹¤.

CëŠ” this í¬ì¸í„° ê°™ì€ ê²Œ ì—†ê¸° ë•Œë¬¸ì—, ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì–´ë–¤ ì»¨í…ìŠ¤íŠ¸ë„ ìœ ì§€í•  ìˆ˜ ì—†ìŒ

ğŸ” ê·¸ë˜ì„œ CëŠ” ì½œë°±ì„ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ëƒ?
"ë‚´ê°€ í•¨ìˆ˜ ì£¼ì†Œë§Œ ë°›ì•„ì„œ,
ë‚˜ì¤‘ì— ê·¸ í•¨ìˆ˜ë¥¼ ì§ì ‘ í˜¸ì¶œí• ê²Œ."

ì´ êµ¬ì¡°ë§Œ ê°€ëŠ¥í•˜ë¯€ë¡œ:

ì½œë°± íƒ€ì…ì€ í•¨ìˆ˜ í¬ì¸í„°

ì½œë°±ì€ ê¸€ë¡œë²Œ ë˜ëŠ” static í•¨ìˆ˜ë§Œ ì‚¬ìš© ê°€ëŠ¥

ìƒíƒœë¥¼ ì „ë‹¬í•˜ë ¤ë©´ void* user_data ê°™ì€ ë³„ë„ ë°ì´í„° í¬ì¸í„°ë¥¼ ê°™ì´ ì „ë‹¬í•´ì•¼ í•¨